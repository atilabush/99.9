# 99.9 Game - v0.4 Visual Overhaul Plan
## "The NOC Dashboard"

**Status:** Awaiting Approval  
**Branch:** Will create `v0.4-visual` branch  
**Estimated Time:** 2-3 days  
**Files to Modify:** `index.html`, `css/style.css`, `js/ui.js`

---

## ðŸŽ¯ GOALS

1. **Fix visual boundaries** â€” Clear separation between sections
2. **Add rack visualization** â€” See the actual datacenter
3. **Add system gauges** â€” Power, cooling, uptime at a glance
4. **Modernize UI** â€” Cards, shadows, animations
5. **Improve information density** â€” More data, less clutter

---

## ðŸ“ LAYOUT REDESIGN

### Current (Problems)
```
[Top Bar: Company Funds Rep Uptime]
[Nav] [Main Content - wall of text] [Activity Log]
```
- No visual hierarchy
- Everything blends together
- No sense of "place" (just a terminal)

### Proposed (v0.4)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [99.9]  Day 12  14:32  [ $89k ] [ 99.87% â–² ] [ âšâš â–¶â–¶â–¶ ]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âš¡ POWER      â”‚  â”‚ â„ï¸ COOLING    â”‚  â”‚     99.87%          â”‚  â”‚
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚ 12.4/20 MW   â”‚  â”‚ 68% capacity â”‚  â”‚   â”‚   GAUGE   â”‚     â”‚  â”‚
â”‚  â”‚ âš ï¸ WARNING   â”‚  â”‚ âš ï¸ 1 UNIT DN â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ðŸ–¥ï¸  RACK DIAGRAM - Click to Inspect                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ðŸŸ¢ðŸŸ¢ðŸŸ¢â”‚ â”‚ðŸŸ¢ðŸŸ¢ðŸŸ¢â”‚ â”‚ðŸŸ¡ðŸŸ¡ðŸŸ¢â”‚ â”‚ðŸ”´ðŸ”´ðŸŸ¢â”‚ â”‚ðŸŸ¢ðŸŸ¢ðŸŸ¢â”‚ â”‚ðŸŸ¢ðŸŸ¢ðŸŸ¢â”‚ â”‚âš«âš«âš«â”‚     â”‚
â”‚  â”‚ DC1 â”‚ â”‚ DC2 â”‚ â”‚ DC3 â”‚ â”‚ DC4 â”‚ â”‚ DC5 â”‚ â”‚ DC6 â”‚ â”‚MAINTâ”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜     â”‚
â”‚   ðŸŸ¢ Normal  ðŸŸ¡ Warning  ðŸ”´ Critical  âš« Offline               â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ðŸ“§ Messages 3]  [âš¡ Tickets 2]  [âš‰ Staff]  [ðŸ’¼ Clients]       â”‚
â”‚                                                                 â”‚
â”‚  Active Alerts (Timeline View)                                  â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚  [14:30] ðŸ”´ P1 Router Overheating        4:32 remaining        â”‚
â”‚  [14:25] ðŸŸ¡ P2 Disk Failure              2:15 remaining        â”‚
â”‚  [14:20] â„¹ï¸  Vendor Sale - Dell 20% off                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¨ VISUAL SYSTEM

### Color Palette (Refined)
```css
--bg: #0a0a0f;           /* Deep black */
--bg-panel: #111118;     /* Slightly lighter */
--bg-card: #1a1a24;      /* Card backgrounds */
--border: #2a2a3a;       /* Visible borders */
--border-accent: #00f0c8; /* Cyan accent borders */

--text: #a0a0b0;         /* Dim text */
--text-bright: #e0e0f0;  /* Primary text */
--text-muted: #606070;   /* Labels */

--accent: #00f0c8;       /* Cyan */
--accent-dim: #00a080;   /* Dark cyan */
--warning: #f0a000;      /* Amber */
--error: #f04040;        /* Red */
--success: #40f080;      /* Green */
```

### Card Design
```css
.panel-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    transition: border-color 0.2s;
}
.panel-card:hover {
    border-color: var(--border-accent);
}
```

### Typography Scale
- **H1 (Title):** 48px, weight 800
- **H2 (Section):** 24px, weight 700
- **H3 (Card Title):** 16px, weight 600
- **Body:** 14px, weight 400
- **Label:** 11px, weight 500, uppercase
- **Monospace:** JetBrains Mono for numbers

---

## ðŸ”§ FEATURE BREAKDOWN

### 1. GAUGE PANEL (Top Section)

**Power Gauge**
- Horizontal bar with gradient fill
- Zones: Green (0-60%), Yellow (60-80%), Red (80-100%)
- Current value displayed as "12.4 / 20 MW"
- Warning icon when > 80%

**Cooling Gauge**
- Circular gauge (SVG or conic-gradient)
- Shows capacity vs demand
- Animated fan icon when active

**Uptime Dial**
- Circular gauge with needle
- Target line at 99.9%
- Color: Green > 99.9%, Yellow 99-99.9%, Red < 99%

**Implementation:**
```javascript
// New function in ui.js
updateGauges() {
    updatePowerGauge(Game.powerUsed, Game.powerMax);
    updateCoolingGauge(Game.coolingUsed, Game.coolingMax);
    updateUptimeGauge(Game.uptime);
}
```

---

### 2. RACK DIAGRAM (Centerpiece)

**Visual Design:**
- Grid of 6-8 racks
- Each rack shows 3 servers (simplified)
- Color-coded server status
- Hover = server details tooltip
- Click = zoom to rack view

**Server Status Colors:**
- ðŸŸ¢ Green: Normal operation (< 60Â°C)
- ðŸŸ¡ Yellow: Warning (60-75Â°C)
- ðŸ”´ Red: Critical (> 75Â°C or failed)
- âš« Black: Offline/maintenance

**Animation:**
- Subtle pulse on critical servers
- Heat shimmer effect on hot racks
- Fan spin animation on cooling

**Implementation:**
```javascript
// New in ui.js
renderRackDiagram() {
    // Generate rack grid HTML
    // Color servers based on temperature/failure
    // Add click handlers for rack detail view
}

// Click handler
showRackDetail(rackId) {
    // Modal with detailed rack view
    // Individual server status
    // Temperature graphs
}
```

---

### 3. TICKET TIMELINE (Bottom Section)

**Visual Design:**
- Horizontal timeline bar
- Tickets placed by time remaining
- Urgent = larger, pulsing
- Icons: ðŸ”´ P1, ðŸŸ¡ P2, ðŸŸ¢ P3

**Features:**
- Drag to assign (future)
- Click to open modal
- Auto-scroll to urgent tickets

**Implementation:**
Replace current ticket list with:
```javascript
renderTicketTimeline() {
    // Sort tickets by timeRemaining
    // Create visual timeline
    // Add click handlers
}
```

---

### 4. NAVIGATION REFRESH

**Current:** Text buttons on left  
**Proposed:** Icon + label, card style

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—ˆ Dashboard     â”‚  â† Active state with left border
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ‰ Messages  3   â”‚  â† Badge on right
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš¡ Tickets   1   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš‰ Staff         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Active State:**
- Left border accent color
- Slight background highlight
- Bold text

---

### 5. ACTIVITY FEED (Right Side)

**Visual Design:**
- Scrollable feed
- Icons for event types
- Timestamps
- Auto-scroll with pause on hover

**Event Icons:**
- ðŸ”¥ Fire (outage)
- â„ï¸ Snowflake (cooling)
- ðŸ’° Money (revenue/expense)
- ðŸ‘¤ Person (staff event)
- âš¡ Bolt (power)

---

### 6. DAY/NIGHT CYCLE

**Implementation:**
```javascript
updateTimeOfDay() {
    const hour = Game.hour;
    const body = document.body;
    
    if (hour >= 18 || hour < 6) {
        body.classList.add('night-mode');
    } else {
        body.classList.remove('night-mode');
    }
}
```

**Visual Changes:**
- Night: Darker background, dimmed non-essential UI
- Night: Only critical alerts animate
- Day: Full brightness, all animations active

---

## ðŸ“ FILE CHANGES

### index.html
- Add gauge panel HTML
- Add rack diagram container
- Add timeline container
- Update navigation structure
- Add CSS classes to existing elements

### css/style.css
- Add card styles
- Add gauge styles (progress bars, circular gauges)
- Add rack diagram grid styles
- Add animation keyframes (pulse, shimmer, spin)
- Add day/night mode classes
- Refactor existing styles for consistency

### js/ui.js
- Add `updateGauges()` function
- Add `renderRackDiagram()` function
- Add `renderTicketTimeline()` function
- Add `updateTimeOfDay()` function
- Modify `refreshView()` to call new render functions
- Add hover/click handlers for rack interactions

---

## ðŸŽ¬ ANIMATIONS

### Subtle (Always On)
- Status dot pulse on system online
- Gauge needle smooth transitions
- Activity feed scroll

### Contextual (When Active)
- Critical server pulse (red glow)
- Fan spin on cooling gauge
- Ticket urgency pulse

### Night Mode (After Hours)
- Reduced animation frequency
- Dimmed non-critical UI
- Only P1 tickets pulse

---

## ðŸ“± MOBILE ADAPTATIONS

**Gauges:** Stack vertically  
**Rack Diagram:** Horizontal scroll or 2x4 grid  
**Timeline:** Vertical list (current style)  
**Navigation:** Keep bottom nav bar

---

## âš¡ PERFORMANCE CONSIDERATIONS

- Use CSS transforms for animations (GPU accelerated)
- Throttle gauge updates (not every tick)
- Lazy-load rack detail view
- Debounce hover effects

---

## ðŸ§ª TESTING CHECKLIST

- [ ] Gauges update correctly with game state
- [ ] Rack colors reflect server status
- [ ] Click rack opens detail modal
- [ ] Day/night cycle works
- [ ] Animations don't cause lag
- [ ] Mobile layout functional
- [ ] All existing features still work

---

## ðŸ“Š SUCCESS METRICS

1. **Visual Hierarchy** â€” Clear sections, no wall of text
2. **Information Density** â€” More data visible at once
3. **Delight** â€” Animations feel responsive and appropriate
4. **Clarity** â€” New users understand the datacenter state instantly

---

## ðŸš€ IMPLEMENTATION ORDER

1. **Phase 1: Foundation**
   - Update color palette
   - Add card styles
   - Refactor existing panels

2. **Phase 2: Gauges**
   - Build power/cooling/uptime gauges
   - Add to top of screen

3. **Phase 3: Rack Diagram**
   - Create rack grid HTML/CSS
   - Add server status colors
   - Add click handlers

4. **Phase 4: Polish**
   - Animations
   - Day/night cycle
   - Mobile fixes
   - Testing

---

**APPROVE?** Reply with changes or:
- **"Approved â€” start Phase 1"**
- **"Modify X"** (specific changes)
- **"Too complex â€” simplify Y"**

ðŸ¤ 